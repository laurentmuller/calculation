{% extends 'cards/card_edit.html.twig' %}
{# parameters #}
{%- set title = 'command.execute.title' -%}
{%- set title_icon = 'code' -%}
{%- set title_description = 'command.execute.description' -%}
{%- set cancel_path = path('command_all', {'name': command.name}) -%}
{%- set submit_text = 'command.execute.title' -%}
{%- set values = form.vars.value %}
{# body #}
{% block card_body %}
{# name #}
{{ include('command/_command_name.html.twig', {'command': command}, with_context=false) }}
{# arguments #}
{% set widgets = values|filter((value, name) => name|u.startsWith(constant('App\\Service\\CommandBuilderService::ARGUMENT_PREFIX'))) %}
{% if (widgets|length) %}
    <p class="text-warning horizontal-line">{{ 'command.list.fields.arguments'|trans }}</p>
    <div class="row">
    {% for key in widgets|keys %}
        <div class="col-lg-3 col-md-4 col-sm-6">
            {{ form_row(form[key]) }}
        </div>
    {% endfor %}
    </div>
{% endif %}
{# options #}
{% set widgets = values|filter((value, name) => name|u.startsWith(constant('App\\Service\\CommandBuilderService::OPTION_PREFIX'))) %}
{% if (widgets|length) %}
    <p class="text-warning horizontal-line">{{ 'command.list.fields.options'|trans }}</p>
    <div class="row">
    {% for key in widgets|keys %}
        <div class="col-lg-4 col-md-6 col-sm-6">
            {{ form_row(form[key]) }}
        </div>
    {% endfor %}
    </div>
{% endif %}
{{ parent() }}
{% endblock %}
{# javascript #}
{% block javascripts -%}
    {{- parent() -}}
    {{- asset_js('js/application/command_query.js') -}}
{% endblock %}
