{% extends 'cards/card_base.html.twig' %}
{% from 'macros/_icons.html.twig' import homepage %}
{# macros #}
{% macro output_row(name, value) -%}
{% if value %}
    <tr>
        <td>{{ name }}</td>
        <td>{{ value|raw }}</td>
    </tr>
{% endif %}
{%- endmacro %}
{% macro output_header(name) -%}
    <tr>
        <th colspan="2">{{ name }}</th>
    </tr>
{%- endmacro %}
{# parameters #}
{%- set title = 'test.ip_stack' -%}
{%- set title_icon = 'location-dot' -%}
{# header #}
{% block card_header %}
<div class="row">
    <div class="col-lg-10 mt-1">{{ parent() }}</div>
    <div class="col-lg-2 text-lg-right d-print-none">
        <a href="#" data-toggle="modal" data-target="#raw_data_modal" title="{{ 'common.button_raw_data'|trans }}">
            <i class="fa-solid fa-laptop-code"></i>
        </a>
    </div>
</div>
{% endblock %}
{# body #}
{% block card_body %}
<table class="table table-sm table-hover">
    <tbody>
    {{ _self.output_header('Générale') }}
    {{ _self.output_row('Adresse IP', results.ip|default(false)) }}
    {{ _self.output_row('Type', results.type|default(false)) }}
    {{ _self.output_header('Position') }}
    {{ _self.output_row('Continent', results.continent_name|default(false)) }}
    {{ _self.output_row('Pays', results.country_name|default(false)) }}
    {{ _self.output_row('Région', results.region_name|default(false)) }}
    {{ _self.output_row('Ville', results.city|default(false)) }}
    {{ _self.output_row('Position', results.position_dms|default(false)) }}
    </tbody>
</table>
{% include 'dialog/raw_data_dialog.html.twig' with {'raw_data': results} %}
{% endblock %}
{# footer #}
{% block card_footer -%}
    {{- homepage() }}
{%- endblock %}
{# stylesheets #}
{% block stylesheets %}
    {{ parent() }}
    {{- asset_css('css/pre_highlight.css') }}
{% endblock %}
