{% extends 'table/table_base.html.twig' %}

{# parameters #}
{%- set title        = 'user.list.title' -%}
{%- set title_icon   = 'user far' -%}
{%- set defer_url    = url('table_user') -%}
{%- set save_url     = url('table_user_save') -%}
{%- set attributes   = {'data-image-title': 'user.image.title'|trans, 'data-user-id': app.user.id } -%}
{%- set object_type  = EntityVoterInterface.ENTITY_USER -%}

{% block global_actions -%}
{{ _self.item_external(path('user_pdf'), 'user.list.pdf_title', 'file-pdf far') }}
{{ _self.item_external(path('user_excel'), 'user.list.excel_title', 'file-excel far') }}
{{ _self.item_separator() }}
{{ _self.item_external(path('user_rights_pdf'), 'user.list.rights_export', 'file-pdf far') }}
{{ _self.item_external(path('user_rights_excel'), 'user.list.rights_excel', 'file-excel far') }}

{%- endblock %}

{% block edit_actions -%}
{{ _self.item_path(path('user_show', params), 'user.show.title', 'tv', show_class) }}
{{ _self.item_path(path('user_edit', params), 'user.edit.title', 'pencil-alt', edit_class) }}
{{ _self.item_path(path('user_delete', params), 'user.delete.title', 'times', 'btn-user-delete') }}
{{ _self.item_separator() }}
{{ _self.item_path(path('user_password', params), 'index.change_password', 'unlock-alt', 'btn-password') }}
{{ _self.item_path(path('user_image', params), 'user.image.title', 'image far', 'btn-image') }}
{{ _self.item_path(path('user_rights', params), 'user.list.rights_title', 'unlock', 'btn-rights') }}
{{ _self.item_path(path('user_message', params), 'user.message.title', 'envelope far', 'btn-user-message') }}
{{ _self.item_separator() }}
{{ _self.item_path(path('user_add', params), 'user.add.title', 'file far', 'btn-add') }}
{%- if not is_granted('IS_IMPERSONATOR') and is_granted('ROLE_SUPER_ADMIN') -%}
    {{ _self.item_separator() }}
    {{ _self.item_path(path('homepage', {'_switch_user': 'username'}), 'user.switch.take.title', 'user-plus', 'btn-user-switch') }}
{%- endif -%}
{%- endblock %}
