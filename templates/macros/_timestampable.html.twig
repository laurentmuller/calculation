{# create timestampable row #}
{% macro timestampable(item, separator=true) %}
{% if not item.new %}
    {# created date and user #}
    {% set date = item.createdAt ? item.createdAt|locale_datetime : 'common.empty_date'|trans %}
    {% set user = item.createdBy|default('common.empty_user'|trans) %}
    {% set created = 'common.entity_created'|trans({'%date%': date, '%user%': user}) %}
    {# updated date and user #}
    {% set date = item.updatedAt ? item.updatedAt|locale_datetime : 'common.empty_date'|trans %}
    {% set user = item.updatedBy|default('common.empty_user'|trans) %}
    {% set updated = 'common.entity_updated'|trans({'%date%': date, '%user%': user}) %}
    {% if separator %}
        <hr class="card-footer-line">
    {% endif %}
    <div class="row small text-body-secondary">
        <div class="col-sm-6 my-sm-1">
            <span>
                {{- created -}}
            </span>
        </div>
        <div class="col-sm-6 my-sm-1 text-sm-end">
            <span>
                {{- updated -}}
            </span>
        </div>
    </div>
{% endif %}
{% endmacro %}

{% macro timestampable_properties(item) -%}
{# created #}
{% from 'macros/_properties.html.twig' import property %}
{% set date = item.createdAt ? item.createdAt|locale_datetime : 'common.empty_date'|trans %}
{% set user = item.createdBy|default('common.empty_user'|trans) -%}
{{ property('calculation.fields.created', date ~ ' - ' ~ user) }}
{# updated #}
{% set date = item.updatedAt ? item.updatedAt|locale_datetime : 'common.empty_date'|trans %}
{% set user = item.updatedBy|default('common.empty_user'|trans) -%}
{{ property('calculation.fields.updated', date ~ ' - ' ~ user) }}
{%- endmacro %}
