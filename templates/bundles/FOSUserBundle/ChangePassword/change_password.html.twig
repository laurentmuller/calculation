{% extends 'cards/card_edit.html.twig' %}
{% trans_default_domain 'FOSUserBundle' %}

{# parameters #}
{%- set title        = 'change_password.submit' -%}
{%- set title_domain = 'FOSUserBundle' -%}
{%- set title_icon   = 'unlock-alt' -%}
{%- set action       = path('fos_user_change_password') -%}
{%- set cancel_path  = path('homepage') -%}
{%- set form_attr    = form_attr|default({})|merge({
							'data-equal_to': 'fos_user.password.mismatch'|trans([], 'validators'),
							'class': 'fos_user_change_password'}) -%}

{% block card_body -%}
{{ form_row(form.current_password) }}
{{ form_row(form.plainPassword.first, {attr: {minlength: 6, maxlength: 255, class: 'password-strength'}}) }}
{{ form_row(form.plainPassword.second) }}
{%- endblock %}

{% block javascripts -%}
{% if app.debug %}
{{ parent() }}
{{ asset_js('js/vendor/zxcvbn/zxcvbn.js') }}
{{ asset_js('js/plugins/password-strength.js') }}
{{ asset_js('js/extensions/password-extensions.js') }}
{{ asset_js('js/application/user_change_password.js') }}
{% else %}
{{ asset_js('js/user_change_password.js') }}
{% endif %}
{%- endblock %}