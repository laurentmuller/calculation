{# admin menu #}
{% from 'macros/_icons.html.twig' import icon, dropdownSeparator, navItem, navItemExternal %}
{% set id = 'menu_test' %}
{% set expanded = app.session.get(id, false) %}
{% set toggle_class = expanded ? ' active' : '' %}
{% set display_style = expanded ? 'block' : 'none' %}
{% set toggle_title = expanded ? 'index.menu_hide' : 'index.menu_show' %}
<li class="nav-item nav-item-dropdown" id="{{ id }}">
    <a class="nav-link nav-link-toggle{{ toggle_class }}" href="#" role="button" aria-expanded="{{ expanded|json_encode }}" title="{{ toggle_title|trans }}">
        {{- icon('bug fa-fw', 'index.menu_test') -}}
    </a>
    <ul class="navbar-nav navbar-menu" style="display: {{ display_style }}">
        {% set id = 'menu_test_service' %}
        {% set expanded = app.session.get(id, false) %}
        {% set toggle_class = expanded ? ' active' : '' %}
        {% set display_style = expanded ? 'block' : 'none' %}
        {% set toggle_title = expanded ? 'index.menu_hide' : 'index.menu_show' %}
        <li class="nav-item nav-item-dropdown" id="{{ id }}">
            <a class="nav-link nav-link-toggle{{ toggle_class }}" href="#" role="button" aria-expanded="{{ expanded|json_encode }}" title="{{ toggle_title|trans }}">
                {{- icon('bell-concierge fa-fw', 'index.menu_service') -}}
            </a>
            <ul class="navbar-nav navbar-menu" style="display: {{ display_style }}">
                {{ navItem(path('openweather_weather'), 'openweather.current.title', 'cloud-sun') }}
                {{ navItem(path('exchange_display'), 'exchange_rate.title', 'comments-dollar') }}
                {{ navItem(path('test_translate'), 'translator.title', 'globe') }}
            </ul>
        </li>

        {% set id = 'menu_test_page' %}
        {% set expanded = app.session.get(id, false) %}
        {% set toggle_class = expanded ? ' active' : '' %}
        {% set display_style = expanded ? 'block' : 'none' %}
        {% set toggle_title = expanded ? 'index.menu_hide' : 'index.menu_show' %}
        <li class="nav-item nav-item-dropdown" id="{{ id }}">
            <a class="nav-link nav-link-toggle{{ toggle_class }}" href="#" role="button" aria-expanded="{{ expanded|json_encode }}" title="{{ toggle_title|trans }}">
                {{- icon('bug fa-fw', 'index.menu_tools') -}}
            </a>
            <ul class="navbar-nav navbar-menu" style="display: {{ display_style }}">
                {{ navItem(path('test_tree'), 'test.tree_view', 'folder-tree') }}
                {{ navItemExternal(path('test_html'), 'common.button_export_pdf', ICON_PDF) }}
                {{ navItemExternal(path('test_word'), 'common.button_export_word', ICON_WORD) }}
                {{ navItem(path('schema'), 'schema.index.title', 'table') }}
                {{ navItem(path('ipstack'), 'test.ip_stack', 'location-dot') }}
            </ul>
        </li>

        {% set id = 'menu_test_admin' %}
        {% set expanded = app.session.get(id, false) %}
        {% set toggle_class = expanded ? ' active' : '' %}
        {% set display_style = expanded ? 'block' : 'none' %}
        {% set toggle_title = expanded ? 'index.menu_hide' : 'index.menu_show' %}
        <li class="nav-item nav-item-dropdown" id="{{ id }}">
            <a class="nav-link nav-link-toggle{{ toggle_class }}" href="#" role="button" aria-expanded="{{ expanded|json_encode }}" title="{{ toggle_title|trans }}">
                {{- icon('bug fa-fw', 'index.menu_admin') -}}
            </a>
            <ul class="navbar-nav navbar-menu" style="display: {{ display_style }}">
                {{ navItem(path('admin_import'), 'swisspost.title', 'download') }}
                {{ navItem(path('generate'), 'generate.title', 'random') }}
                {{ navItem(path('update'), 'update.title', 'edit') }}
            </ul>
        </li>

        {% set id = 'menu_test_chart' %}
        {% set expanded = app.session.get(id, false) %}
        {% set toggle_class = expanded ? ' active' : '' %}
        {% set display_style = expanded ? 'block' : 'none' %}
        {% set toggle_title = expanded ? 'index.menu_hide' : 'index.menu_show' %}
        <li class="nav-item nav-item-dropdown" id="{{ id }}">
            <a class="nav-link nav-link-toggle{{ toggle_class }}" href="#" role="button" aria-expanded="{{ expanded|json_encode }}" title="{{ toggle_title|trans }}">
                {{- icon('chart-area fa-fw', 'menu_graphics', 'chart') -}}
            </a>
            <ul class="navbar-nav navbar-menu" style="display: {{ display_style }}">
                {{ navItem(path('calculation_pivot'), 'pivot.title', 'table') }}
                {{ navItem(path('timeline'), 'timeline.title', 'stream') }}
                {{ navItem(path('calendar_year'), 'calendar.year_title', 'calendar-alt far', null, {'%year%': 'now'|date('Y')}) }}
            </ul>
        </li>

        {{ dropdownSeparator() }}
        {{ navItem(path('test_notifications'), 'test.notification', 'bell far') }}
        {{ navItem(path('test_editor'), 'test.editor', 'edit') }}
        {{ navItem(path('test_password'), 'password.title', 'lock') }}
        {{ navItem(path('test_recaptcha'), 'test.recaptcha', 'google fab') }}
        {{ navItem(path('customer_table'), 'customer.list.title', ICON_CUSTOMER) }}
    </ul>
</li>
